---
import Layout from './Layout.astro';

// æ¥æ”¶æ–‡ç« çš„å±æ€§
const { title, description, pubDate, heroImage } = Astro.props;

// æ ¼å¼åŒ–æ—¥æœŸçš„è¾…åŠ©å‡½æ•°
const formattedDate = pubDate.toLocaleDateString('zh-CN', {
	year: 'numeric',
	month: 'long',
	day: 'numeric',
});
---

<Layout title={title}>
	<main class="pt-24 px-4 md:px-0 max-w-4xl mx-auto min-h-screen">
		<!-- æ–‡ç« å®¹å™¨ï¼šæ›´æ·±çš„ç»ç’ƒè´¨æ„Ÿ -->
		<article class="glass-panel rounded-3xl overflow-hidden mb-20 animate-float" style="animation-duration: 8s;">
			
			<!-- é¡¶éƒ¨å¤§å›¾ -->
			{heroImage && (
				<div class="w-full h-64 md:h-96 overflow-hidden relative">
					<img src={heroImage} alt="" class="w-full h-full object-cover" />
					<!-- å›¾ç‰‡åº•éƒ¨çš„æ¸å˜é®ç½©ï¼Œè®©æ–‡å­—è¿‡æ¸¡è‡ªç„¶ -->
					<div class="absolute bottom-0 left-0 w-full h-24 bg-gradient-to-t from-white/80 dark:from-slate-900/80 to-transparent"></div>
				</div>
			)}
			
			<!-- æ–‡ç« å¤´éƒ¨ä¿¡æ¯ -->
			<div class="px-6 md:px-12 pt-8 pb-4 text-center">
				<div class="text-sm font-mono text-acg-pink mb-2 tracking-widest uppercase">Dev Log</div>
				<h1 class="text-3xl md:text-5xl font-black mb-4">{title}</h1>
				<div class="text-sm opacity-60 flex justify-center gap-4 items-center">
					<span>ğŸ“… {formattedDate}</span>
					<span>ğŸ“ {description}</span>
				</div>
				<hr class="my-8 border-gray-400/30" />
			</div>

			<!-- æ­£æ–‡åŒºåŸŸï¼šTypography æ’ç‰ˆä¼˜åŒ– -->
			<div class="px-6 md:px-12 pb-12 prose prose-lg dark:prose-invert max-w-none 
                prose-headings:font-bold prose-headings:text-acg-blue 
                prose-a:text-acg-pink prose-a:no-underline hover:prose-a:underline
                prose-img:rounded-xl prose-img:shadow-lg">
				<slot />
			</div>
		</article>
	</main>
</Layout>